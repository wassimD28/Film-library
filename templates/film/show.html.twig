{% extends 'base.html.twig' %}

{% block title %}Film{% endblock %}

{% block body %}
<div class="bg-gray-900 text-gray-100 min-h-screen p-6">
    <div class="flex items-start mb-6 bg-admin-semibg3 rounded-md p-3">
        <img src="{{ asset("uploads/images/" ~ film.couverture) }}" alt="{{ film.titre }}" class="w-48 h-auto rounded-lg shadow-lg mr-6">
        <div>
            <h2 class="text-6xl font-bold mb-2 text-admin-text first-letter:uppercase">{{ film.titre }}</h2>
            <div class="my-3 flex flex-row gap-2">
                <p class="text-admin-semibg bg-admin-secondary rounded-2xl px-3 py-1 w-fit font-semibold">{{ film.getCategorie.getDesignCategorie }}</p>
                <p class="bg-admin-semibg text-admin-secondary rounded-2xl px-3 py-1 w-fit font-semibold border border-admin-secondary">{{ film.dateSortie ? film.dateSortie|date('Y') : '' }}</p>
                <div class=" text-admin-bg rounded-2xl px-3 py-1 w-fit font-semibold bg-admin-yellow flex gap-1 items-center">{{ film.rating ? film.rating : 0 }} <i class="text-admin-bg  fa-solid fa-star"></i></div>
                <div class=" text-admin-text rounded-2xl px-3 py-1 w-fit font-semibold bg-admin-semibg3 border border-admin-text flex gap-1 items-center">{{ film.views ? film.views : 0 }} <i class="text-admin-text  fa-solid fa-eye"></i></div>
            </div>
            <p class="text-admin-text">{{ film.description }}</p>
        </div>
    </div>

    <div class=" w-full flex justify-center">
        {% if film.trailer %}
            <iframe width="560" height="315" src="{{ film.trailer }}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        {% else %}
            <p class="text-admin-secondary bg-admin-semibg2 rounded-md py-1 px-3">There is no trailer !</p>
        {% endif %}
    </div>

    <div class="flex flex-row gap-3">
        <a href="{{ path('app_film_index') }}" class="inline-block mb-4 text-admin-text bg-admin-bg hover:bg-admin-text hover:text-admin-bg border border-admin-text px-4 py-2 rounded-lg mt-2 ease-in-out duration-200">
            Back to films
        </a>
        <a href="{{ path('app_film_edit',{'id': film.id}) }}" class="inline-block mb-4 text-admin-bg bg-admin-primary hover:bg-admin-bg hover:text-admin-primary border border-admin-primary px-4 py-2 rounded-lg mt-2 ease-in-out duration-200">
            Edit
        </a>
        {{ include("film/_delete_form.html.twig") }}
        
    </div>
    {% if film.isDisponible %}
        <p class="bg-admin-semibg2 text-admin-secondary px-3 py-2 rounded-md w-fit">Diponible</p>
    {% else %}
        <p class="bg-admin-semibg2 text-admin-secondary px-3 py-2 rounded-md w-fit">Non diponible</p>
    {% endif %}
    
    
    <div class="w-full p-3">
        <h2 class="text-4xl font-bold mb-2 text-admin-text first-letter:uppercase">Acteurs</h2>
        <div class="flex flex-row gap-3 w-full">
            {% for actor in film.getActeurs %}
                {{ include("inc/user/actorCard.html.twig") }}
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
